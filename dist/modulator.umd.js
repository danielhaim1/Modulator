/*!
 * @danielhaim/modulator - v2.2.0 - 2025-04-13
 * https://github.com/danielhaim1/modulator.git
 * Copyright (c) 2025 Daniel Haim, Licensed Apache-2.0
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Modulator=t():e.Modulator=t()}(this,(()=>(()=>{"use strict";var e={619:(e,t,o)=>{function r(e,t,o=!1,r=null,n=100,l=null){if("function"!=typeof e)throw new TypeError("Expected a function for the first parameter");if("number"!=typeof t||isNaN(t)||t<0)throw new TypeError("Expected a non-negative number for the second parameter (wait)");if("boolean"!=typeof o)throw new TypeError("Expected a boolean for the third parameter");if("number"!=typeof n||isNaN(n)||n<0)throw new TypeError("Expected a non-negative number for the fifth parameter (maxCacheSize)");if(null!==l&&("number"!=typeof l||isNaN(l)||l<0))throw new TypeError("Expected null or a non-negative number for the sixth parameter (maxWait)");if(null!==l&&l<t)throw new TypeError("maxWait must be greater than or equal to wait");let a=null,i=new Map,u=0,s=0,d=null,f=null,p=null,c=null;const m=(t,o,r,l,a)=>{s=t;try{const t=e.apply(r,o);Promise.resolve(t).then((e=>{if(n>0){const t=JSON.stringify(o);i.set(t,e),i.size>n&&i.delete(i.keys().next().value)}l(e)}),(e=>{a(e)}))}catch(e){a(e)}},y=()=>{const e=Date.now();d&&(!l||e-u>=l)&&m(e,d,f,p,c),a=null,d=null,f=null,p=null,c=null},h=function(...e){return new Promise(((h,w)=>{const b=Date.now(),x=!!a;u=b;const E=JSON.stringify(e);if(n>0&&i.has(E))return void h(i.get(E));if(d=e,f=r||this,p=h,c=w,o&&!x)m(b,e,f,h,w),a=setTimeout(y,t);else{clearTimeout(a);const e=b-s,o=null===l?t:Math.min(t,l-e);a=setTimeout(y,o>0?o:0)}}))};return h.cancel=function(){clearTimeout(a),s=0,a=null,d=null,f=null,c&&c(new Error("Debounced function call was cancelled.")),p=null,c=null},h}o.r(t),o.d(t,{default:()=>l,modulate:()=>r}),e=o.hmd(e);const n={modulate:r};e.exports&&(e.exports=n),"function"==typeof define&&o.amdO&&define("Modulator",[],(()=>n)),"object"==typeof window&&(window.Modulator=n);const l=n}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var l=t[r]={id:r,loaded:!1,exports:{}};return e[r](l,l.exports,o),l.loaded=!0,l.exports}return o.amdO={},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(619)})()));