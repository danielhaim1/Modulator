/*!
 * @danielhaim/modulator - v2.2.0 - 2025-04-13
 * https://github.com/danielhaim1/modulator.git
 * Copyright (c) 2025 Daniel Haim, Licensed Apache-2.0
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Modulator=t():e.Modulator=t()}(this,(()=>(()=>{"use strict";var e={619:(e,t,r)=>{function o(e,t,r=!1,o=null,n=100,a=null){if("function"!=typeof e)throw new TypeError("Expected a function for the first parameter");if("number"!=typeof t||isNaN(t))throw new TypeError("Expected a number for the second parameter");if("number"!=typeof t||isNaN(t))throw new TypeError("Expected a number for the second parameter (wait)");if("boolean"!=typeof r)throw new TypeError("Expected a boolean for the third parameter");if("number"!=typeof n||isNaN(n))throw new TypeError("Expected a number for the fifth parameter");if(null!==a&&("number"!=typeof a||isNaN(a)))throw new TypeError("Expected a number for the sixth parameter");if(null!==a&&a<t)throw new TypeError("Expected the sixth parameter to be greater than or equal to the second parameter");let i,u=[],f=new Map,p=0,s=!1;const d=function(...d){return new Promise((s=>{function c(e=()=>{},t=0,r=!1,o=0){const n=Date.now()-o;if("function"!=typeof e)return Promise.reject(new Error("Expected a function for the first parameter"));if("number"!=typeof t||isNaN(t)||t<=0)return Promise.reject(new Error("Expected a number for the second parameter"));if("number"!=typeof n||isNaN(n)||n<0)return Promise.reject(new Error("Invalid timeSinceLast value"));if(r||n>=t||null!==a&&n>=a)return e(),Promise.resolve(Date.now());const i=t-n;return i<=0?Promise.resolve(Date.now()):new Promise((e=>setTimeout((()=>e(Date.now())),i)))}const l=r&&!i,m=Date.now()-p,y=null!==a&&m>=a;if(clearTimeout(i),i=y?setTimeout(c,m):setTimeout((()=>c(e,t,l,p)),null!==a?a:t),l&&!y){const t=e.apply(o,d);u.push(t),f.set(JSON.stringify(d),t),f.size>n&&f.delete(f.keys().next().value),s(t),p=Date.now()}const w=f.get(JSON.stringify(d));void 0!==w&&s(w)})).finally((()=>{s&&(u=[],f.clear()),s=!1}))};return d.cancel=function(){clearTimeout(i),s=!0},d.result=function(){return u},d}r.r(t),r.d(t,{default:()=>a,modulate:()=>o}),e=r.hmd(e);const n={modulate:o};e.exports&&(e.exports=n),"function"==typeof define&&r.amdO&&define("Modulator",[],(()=>n)),"object"==typeof window&&(window.Modulator=n);const a=n}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o](a,a.exports,r),a.loaded=!0,a.exports}return r.amdO={},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(619)})()));